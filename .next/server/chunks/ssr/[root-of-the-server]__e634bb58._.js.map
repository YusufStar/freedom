{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/yusufstar/Desktop/freedom/src/lib/aurinko.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@clerk/nextjs/server\";\nimport axios from \"axios\";\nimport type { EmailMessage } from \"./types\";\n\nexport const getAurinkoAuthUrl = async (serviceType: \"Google\" | \"Office365\" | \"iCloud\" | \"IMAP\") => {\n    const { userId } = await auth()\n    if (!userId) throw new Error(\"Unauthorized\");\n\n    // IMAP için farklı scope'lar kullan\n    const scopes = serviceType === \"IMAP\"\n        ? \"Mail.Read Mail.ReadWrite Mail.Send\"\n        : \"Mail.Read Mail.ReadWrite Mail.Send Mail.Drafts Mail.All\";\n\n    const params = new URLSearchParams({\n        clientId: process.env.AURINKO_CLIENT_ID!,\n        serviceType,\n        scopes,\n        responseType: \"code\",\n        returnUrl: `${process.env.NEXT_PUBLIC_URL}/api/aurinko/callback`\n    })\n\n    return `https://api.aurinko.io/v1/auth/authorize?${params.toString()}`\n}\n\nexport const exchangeAurinkoCodeForToken = async (code: string) => {\n    try {\n        const response = await axios.post(`https://api.aurinko.io/v1/auth/token/${code}`, {}, {\n            auth: {\n                username: process.env.AURINKO_CLIENT_ID!,\n                password: process.env.AURINKO_CLIENT_SECRET!\n            }\n        })\n\n        return response.data as {\n            accountId: number;\n            accessToken: string;\n            userId: string;\n            userSession: string;\n        }\n    } catch (error) {\n        if (axios.isAxiosError(error)) {\n            console.error(\"Aurinko API Error:\", error.response?.data)\n        }\n\n        console.error(\"Aurinko API Error:\", error)\n    }\n}\n\nexport const getAccountDetails = async (accessToken: string) => {\n    try {\n        const response = await axios.get(`https://api.aurinko.io/v1/account`, {\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        })\n\n        return {\n            email: response.data.email,\n            name: response.data.name || response.data.email || \"Unknown\"\n        } as {\n            email: string;\n            name: string;\n        }\n    } catch (error) {\n        if (axios.isAxiosError(error)) {\n            console.error(\"Aurinko API Error:\", error.response?.data)\n        } else {\n            console.error(\"Aurinko API Error:\", error)\n        }\n\n        throw error\n    }\n}\n\nexport const getEmailDetails = async (accessToken: string, emailId: string) => {\n    try {\n        const response = await axios.get<EmailMessage>(`https://api.aurinko.io/v1/email/messages/${emailId}`, {\n            params: {\n                loadInlines: true\n            },\n            headers: {\n                'Authorization': `Bearer ${accessToken}`\n            }\n        });\n        return response.data\n    } catch (error) {\n        if (axios.isAxiosError(error)) {\n            console.error('Error fetching email details:', error.response?.data);\n        } else {\n            console.error('Unexpected error fetching email details:', error);\n        }\n        throw error;\n    }\n}\n\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;;;;;;AAGO,MAAM,oBAAoB,OAAO;IACpC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAC5B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,oCAAoC;IACpC,MAAM,SAAS,gBAAgB,SACzB,uCACA;IAEN,MAAM,SAAS,IAAI,gBAAgB;QAC/B,UAAU,QAAQ,GAAG,CAAC,iBAAiB;QACvC;QACA;QACA,cAAc;QACd,WAAW,6DAA+B,qBAAqB,CAAC;IACpE;IAEA,OAAO,CAAC,yCAAyC,EAAE,OAAO,QAAQ,IAAI;AAC1E;AAEO,MAAM,8BAA8B,OAAO;IAC9C,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,CAAC,qCAAqC,EAAE,MAAM,EAAE,CAAC,GAAG;YAClF,MAAM;gBACF,UAAU,QAAQ,GAAG,CAAC,iBAAiB;gBACvC,UAAU,QAAQ,GAAG,CAAC,qBAAqB;YAC/C;QACJ;QAEA,OAAO,SAAS,IAAI;IAMxB,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;YAC3B,QAAQ,KAAK,CAAC,sBAAsB,MAAM,QAAQ,EAAE;QACxD;QAEA,QAAQ,KAAK,CAAC,sBAAsB;IACxC;AACJ;AAEO,MAAM,oBAAoB,OAAO;IACpC,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,iCAAiC,CAAC,EAAE;YAClE,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,aAAa;YAC1C;QACJ;QAEA,OAAO;YACH,OAAO,SAAS,IAAI,CAAC,KAAK;YAC1B,MAAM,SAAS,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,CAAC,KAAK,IAAI;QACvD;IAIJ,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;YAC3B,QAAQ,KAAK,CAAC,sBAAsB,MAAM,QAAQ,EAAE;QACxD,OAAO;YACH,QAAQ,KAAK,CAAC,sBAAsB;QACxC;QAEA,MAAM;IACV;AACJ;AAEO,MAAM,kBAAkB,OAAO,aAAqB;IACvD,IAAI;QACA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAe,CAAC,yCAAyC,EAAE,SAAS,EAAE;YAClG,QAAQ;gBACJ,aAAa;YACjB;YACA,SAAS;gBACL,iBAAiB,CAAC,OAAO,EAAE,aAAa;YAC5C;QACJ;QACA,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,IAAI,qIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;YAC3B,QAAQ,KAAK,CAAC,iCAAiC,MAAM,QAAQ,EAAE;QACnE,OAAO;YACH,QAAQ,KAAK,CAAC,4CAA4C;QAC9D;QACA,MAAM;IACV;AACJ;;;IAzFa;IAoBA;IAwBA;IA0BA;;AAtEA,+OAAA;AAoBA,+OAAA;AAwBA,+OAAA;AA0BA,+OAAA","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/yusufstar/Desktop/freedom/src/app/email/mail.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/email/mail.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/email/mail.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/yusufstar/Desktop/freedom/src/app/email/mail.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/email/mail.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/email/mail.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsQ,GACnS,oCACA","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/yusufstar/Desktop/freedom/src/app/email/page.tsx"],"sourcesContent":["import Mail from \"./mail\";\n\nexport default function MailDashboard() {\n    return <Mail \n        defaultLayout={[20, 32, 48]}\n        navCollapsedSize={4}\n        defaultIsCollapsed={false}\n    />\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACpB,qBAAO,8OAAC,4HAAA,CAAA,UAAI;QACR,eAAe;YAAC;YAAI;YAAI;SAAG;QAC3B,kBAAkB;QAClB,oBAAoB;;;;;;AAE5B","debugId":null}}]
}